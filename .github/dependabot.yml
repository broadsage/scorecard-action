# Enhanced Dependabot configuration for intelligent GitHub Actions dependency management
# Provides tiered update strategies based on action criticality and impact

version: 2
updates:
  # GitHub Actions dependency management with intelligent grouping
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday" 
      time: "09:00"
    open-pull-requests-limit: 12
    
    # Intelligent grouping strategy for different action types
    groups:
      # üîí Critical Security Actions (High Priority - Auto-merge patch/minor)
      security-actions:
        patterns:
          - "ossf/scorecard-action"
          - "github/codeql-action/*"
          - "step-security/*"
        update-types:
          - "minor"
          - "patch"
      
      # üèóÔ∏è Infrastructure Actions (Stable, Auto-mergeable)
      infrastructure-actions:
        patterns:
          - "actions/checkout"
          - "actions/upload-artifact"
          - "actions/download-artifact"
          - "actions/cache"
          - "actions/setup-*"
        update-types:
          - "minor"
          - "patch"
      
      # üîó Integration Actions (Review Required)
      integration-actions:
        patterns:
          - "slackapi/slack-github-action"
          - "*webhook*"
          - "*notification*"
        update-types:
          - "minor"
          - "patch"
      
      # üí• Major Version Updates (Careful Review Required)
      major-updates:
        patterns:
          - "*"
        update-types:
          - "major"
    
    # Auto-merge configuration for safe updates
    pull-request-branch-name:
      separator: "/"
    
    # Commit message configuration with enhanced prefixes
    commit-message:
      prefix: "chore"
      prefix-development: "deps"
      include: "scope"
    
    # Enhanced labeling for better categorization and auto-merge detection
    labels:
      - "dependencies"
      - "github-actions"
      - "automated"
      - "security-update"
      - "auto-merge-candidate"  # For workflow automation detection